cmake_minimum_required(VERSION 3.10)
project(TKPM-Exercise)

set(CMAKE_CXX_STANDARD 17)

# ğŸ”¥ Äáº£m báº£o táº¥t cáº£ module dÃ¹ng /MDd
set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreadedDebugDLL" CACHE STRING "MSVC Runtime Library" FORCE)

if (MSVC)
    add_compile_options(/MDd)
endif()

# ThÃªm thÆ° viá»‡n GoogleTest
add_subdirectory(gtest)


# ThÃªm thÆ° má»¥c chá»©a Student headers
include_directories(${CMAKE_SOURCE_DIR}/Student/Headers)

# Táº¡o thÆ° viá»‡n StudentLib
add_library(StudentLib 
    Student/Funcs/add_student.cpp 
    Student/Funcs/class.cpp
    Student/Funcs/csv.cpp
    Student/Funcs/delete_student.cpp
    Student/Funcs/menu.cpp
    Student/Funcs/search_student.cpp
    Student/Funcs/update_student.cpp
)

# ğŸ”¥ Äáº£m báº£o StudentLib build vá»›i /MDd
target_compile_options(StudentLib PUBLIC /MDd)

# ThÃªm thÆ° má»¥c tests
add_subdirectory(tests)
